\chapter{Requisiti}\label{ch:requisiti}
Per l'individuazione dei requisiti è stato innanzitutto analizzato il pattern ECS e la terminologia adottata.
In Tabella~\ref{tab:glossario} è riportato un gloassario con i principali concetti del pattern:
\begin{table}[H]
    \begin{tabular}{p{0.15\linewidth}p{0.85\linewidth}}
        \toprule
        \textbf{World}     & Contiene più \textit{entity} e i rispettivi \textit{component}.
        Permette la registrazione di più \textit{system} che utilizza per aggiornare lo stato dei \textit{component} \\
        \textbf{View}      & Rappresenta un sottoinsieme delle \textit{entity} di un \textit{world} con i \textit{component}                                                                              \\
        \textbf{Entity}    & Contiene più \textit{entity} e i rispettivi \textit{component}                                                                                                           \\
        \textbf{Component} & Rappresenta una particolare caratteristica da modellare per una \textit{entity}                                                                                              \\
        \textbf{System}    & Aggiorna lo stato dei \textit{component} di tutte le \textit{entity} di una determinata \textit{view} secondo una logica definita dall'utilizzatore                          \\
        \bottomrule
    \end{tabular}\caption{\label{tab:glossario}Glossario dei termini del dominio.}
\end{table}

\section{Business}\label{sec:business}
L'obiettivo è quello di realizzare un framework che permetta di applicare in maniera semplice il pattern ECS\@.
I requisiti di business individuati sono:
\begin{enumerate}[label=\textbf{\ref{sec:business}.\arabic*}]
    \item \label{itm:b1} Deve essere possibile utilizzare in maniera semplice ed efficiente il pattern ECS
    \item \label{itm:b2} Il framework deve essere sufficientemente flessibile da poter realizzare simulazioni e videogiochi.
    In particolare deve essere possibile:
    \begin{enumerate}[label=\textbf{\ref{itm:b2}.\arabic*}]
        \item \label{itm:bb3} Realizzare una simulazione del moto di palle da biliardo in un tavolo da gioco
    \end{enumerate}
\end{enumerate}

\section{Utente}\label{sec:utente}
I requisiti utente sono sviluppati considerando il punto di vista dello sviluppatore che dovrà utilizzare il framework.
In particolare:
\begin{enumerate}[label=\textbf{\ref{sec:utente}.\arabic*}]
    \item \label{itm:u1} Deve essere possibile creare l'universo che contiene tutte le \textit{entità}
    \item \label{itm:u2} Deve essere possibile creare e rimuovere \textit{componenti}
    \item \label{itm:u3} Deve essere possibile creare e rimuovere \textit{entità}
    \item \label{itm:u4} Deve essere possibile creare \textit{sistemi}
    \item \label{itm:u5} Deve essere possibile utilizzare un DSL per effettuare le operazioni sopra elencate
    \item \label{itm:u6} Per l'utente è importante avere un esempio di utilizzo del framework
\end{enumerate}

\section{Funzionali}\label{sec:funzionali}
I requisiti funzionali, ricavati da quelli utente, sono:
\begin{enumerate}[label=\textbf{\ref{sec:funzionali}.\arabic*}]
    \item \label{itm:f1} Definire un \textit{mondo}
    \begin{enumerate}[label=\textbf{\ref{itm:f1}.\arabic*}]
        \item \label{itm:ff1} Definire delle \textit{viste} che selezionino alcune \textit{entità} del \textit{mondo}
        \item \label{itm:ff2} Far avanzare lo stato del \textit{mondo}, comportando l'aggiornamento delle sue \textit{entità}
    \end{enumerate}
    \item \label{itm:f2} Definire \textit{componenti}
    \item \label{itm:f3} Creare \textit{entità} all'interno di un \textit{mondo}
    \item \label{itm:f4} Rimuovere \textit{entità} dal \textit{mondo} in cui si trovano
    \item \label{itm:f5} Manipolare lo stato delle \textit{entità}
    \begin{enumerate}[label=\textbf{\ref{itm:f5}.\arabic*}]
        \item \label{itm:ff3} Aggiungere \textit{componenti} alle \textit{entità}
        \item \label{itm:ff4} Rimuovere \textit{componenti} dalle \textit{entità}
    \end{enumerate}
    \item \label{itm:f6} Creare \textit{sistemi} per manipolare i \textit{componenti} delle \textit{entità}
    \item \label{itm:f7} Registrare \textit{sistemi} nel \textit{mondo}
    \item \label{itm:f8} Fornire un DSL
    \begin{enumerate}[label=\textbf{\ref{itm:f8}.\arabic*}]
        \item \label{itm:ff5} Definire \textit{sistemi}
        \item \label{itm:ff6} Manipolare \textit{entità}
        \item \label{itm:ff7} Manipolare lo stato del \textit{mondo}
    \end{enumerate}
    \item TODO: demo %TODO: demo progetto
\end{enumerate}


\section{Non funzionali}\label{sec:non-funzionali}
Considerando gli scenari d'uso elencati al punto~\ref{itm:b2}, il sistema deve rispettare il seguente requisito:
\begin{enumerate}[label=\textbf{\ref{sec:non-funzionali}.\arabic*}]
    \item \label{itm:nf1} Aggiornare velocità e posizione di 10'000 \textit{entità} in non più di 10ms
\end{enumerate}


\section{Implementativi}\label{sec:implementativi}
\begin{enumerate}[label=\textbf{\ref{sec:implementativi}.\arabic*}]
    \item \label{itm:i1} Scala 3
    \item \label{itm:i2} Scalatest
    \item \label{itm:i3} JaCoCo per code coverage
    \item TODO %TODO citare eventuali librerie esterne
\end{enumerate}